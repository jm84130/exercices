<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Quiz Voyants PL â€” Examen / Exercice</title>
<style>
  :root{--bg:#0e1116;--card:#151a21;--muted:#98a2b3;--accent:#4da3ff}
  html,body{height:100%}
  body{margin:0;background:var(--bg);color:#e9eef5;font-family:Inter,system-ui,Segoe UI,Roboto,Arial}
  .wrap{max-width:1000px;margin:0 auto;padding:24px}
  h1{font-size:22px;margin:0 0 12px;display:flex;gap:10px;align-items:center}
  .pill{padding:2px 8px;border:1px solid #2a3340;border-radius:999px;background:#151b22;color:#b7c3d6}
  .board{background:var(--card);border:1px solid #212733;border-radius:16px;padding:18px;position:relative}
  .center{display:grid;grid-template-columns:180px 1fr;gap:18px;align-items:center;border:1px dashed #2a3340;border-radius:12px;min-height:160px;margin-bottom:16px;background:#10151b;padding:12px}
  .pictobox{display:grid;place-items:center;background:#0b0f14;border:1px solid #1e2633;border-radius:12px;height:150px}
  .pictobox img{max-height:130px;max-width:160px;display:block}
  .meta .desc{font-size:14px;color:#a9b6c9}
  .question{font-size:16px;color:#c9d4e3;margin:6px 0 12px}
  .opts{display:grid;gap:10px}
  button.opt{ text-align:left;background:#1a2029;border:1px solid #263042;color:#eaeff6;border-radius:12px;padding:12px 14px;font-size:15px;cursor:pointer;transition:.12s transform,.12s background }
  button.opt:hover{background:#1f2733;transform:translateY(-1px)}
  .controls{display:flex;gap:10px;margin-top:12px}
  .ghost{opacity:.6}
  .footer{margin-top:12px;color:var(--muted);font-size:13px}
  .badge{background:#1f2630;border:1px solid #283040;padding:6px 10px;border-radius:999px;color:#c5d0df;font-size:13px}
  .hud{display:flex;gap:12px;align-items:center;color:#cbd5e1;font-size:14px;margin-bottom:16px;flex-wrap:wrap}
  .top-actions{margin-left:auto;display:flex;gap:8px}
  .iconbtn{display:inline-flex;align-items:center;gap:8px;background:#141a22;border:1px solid #273142;color:#d9e3f1;border-radius:10px;padding:8px 10px;cursor:pointer;font-size:14px}
  .iconbtn:hover{background:#19212b}
  .seg{display:inline-flex;background:#121823;border:1px solid #273142;border-radius:12px;overflow:hidden}
  .seg button{background:transparent;border:0;color:#d7e3f6;padding:8px 12px;cursor:pointer}
  .seg button.active{background:#1a2330}

  /* Modal bibliothÃ¨que */
  .modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;padding:20px}
  .modal.open{display:flex}
  .sheet{background:#0f141b;border:1px solid #223044;border-radius:16px;max-width:940px;width:100%;max-height:86vh;overflow:hidden;display:flex;flex-direction:column}
  .sheet header{display:flex;gap:8px;align-items:center;justify-content:space-between;padding:12px 12px;border-bottom:1px solid #213044}
  .sheet h2{font-size:16px;margin:0;color:#dfe9f7}
  .sheets{padding:12px;display:grid;gap:12px;overflow:auto}
  .sheets img{width:100%;height:auto;border:1px solid #1f2a3b;border-radius:12px;background:#070b10}

  .system{margin-left:auto; color:#9fb1c9}
</style>
</head>
<body>
<div class="wrap">
  <h1>
    Voyants PL â€” <span class="pill">Mode Examen / Exercice</span>
    <span class="top-actions">
      <div class="seg" id="modeSeg">
        <button data-mode="exercice" class="active">Exercice</button>
        <button data-mode="examen">Examen</button>
      </div>
      <button id="openLib" class="iconbtn" title="BibliothÃ¨que des pictogrammes">ðŸ“˜ BibliothÃ¨que</button>
    </span>
  </h1>

  <div class="hud">
    <div class="badge">Mode : <span id="modeLabel">Exercice</span></div>
    <div class="badge">Ã‰tape : <span id="stepLabel">Choix initial</span></div>
    <div class="badge">Question : <span id="qnum">1</span></div>
    <div class="system" id="sysMsg"></div>
  </div>

  <div class="board">
    <div class="center">
      <div class="pictobox"><img id="pictogram" alt="Pictogramme" /></div>
      <div class="meta">
        <div class="desc" id="vMechanics">â€”</div>
      </div>
    </div>

    <div id="stage" class="question"></div>
    <div id="opts" class="opts"></div>

    <div class="controls">
      <button id="prev" class="opt">â—€ PrÃ©cÃ©dent</button>
      <button id="next" class="opt">Suivant â–¶</button>
      <button id="restart" class="opt">Recommencer</button>
    </div>
    <div class="footer">RÃ¨gle : <i>les trois choix initiaux restent toujours dans le mÃªme ordre</i>. Ensuite, les propositions sont <b>mÃ©langÃ©es</b> automatiquement.</div>
  </div>
</div>

<!-- Modal BibliothÃ¨que -->
<div id="libModal" class="modal" aria-hidden="true" role="dialog">
  <div class="sheet">
    <header>
      <h2>BibliothÃ¨que des pictogrammes</h2>
      <button id="closeLib" class="iconbtn">âœ– Fermer</button>
    </header>
    <div class="sheets">
      <img src="https://www.dropbox.com/scl/fi/i7ce5gpzf404gsi8wkb8k/voyants-3.jpg?rlkey=5xc7bw4h2h8qg2vpd5enn962g&st=c8vd0ntj&raw=1" alt="Planche voyants 1">
      <img src="https://www.dropbox.com/scl/fi/1ieugf4pxxhh0xil07myp/voyants-2.jpg?rlkey=adgtdlovnal07v6vufokwstkh&st=w4eaf729&raw=1" alt="Planche voyants 2">
      <img src="https://www.dropbox.com/scl/fi/33lrkx409o4eiv1d8ijec/voyants-1.jpg?rlkey=667xbgxm0io398zd9nfpfe39c&st=wps4qro9&raw=1" alt="Planche voyants 3">
    </div>
  </div>
</div>

<script>
// ---------- Utilitaires ----------
const RAW=(u)=>{try{const url=new URL(u);url.searchParams.set('raw','1');url.searchParams.delete('dl');return url.toString()}catch(e){return u}};
const shuffle=(arr)=>arr.map(v=>[Math.random(),v]).sort((a,b)=>a[0]-b[0]).map(x=>x[1]);

// ---------- Banque de voyants (dÃ©mo) ----------
const BANK=[
  {
    id:'prealert_maint', isProblem:false,
    img: RAW('https://www.dropbox.com/scl/fi/0zh65nul7flvwcrymq4u8/1.jpg?rlkey=6vf42oa242iy2ph38e8bqytpz&st=59eknoxg&raw=1'),
    flows:{
      continue:{ ok:true, message:"OK : on continue en surveillant le TDB pour un Ã©ventuel message." },
      call:{ toQuiz:false, message:"Appel inutile pour ce voyant informatif â†’ Game Over." },
      repair:{ toQuiz:false, message:"Aucune rÃ©paration Ã  faire ici â†’ Game Over." }
    }
  },
  {
    id:'info_defauts_presents', isProblem:false,
    img: RAW('https://www.dropbox.com/scl/fi/unapv79yrt6cmxylik3iy/2.jpg?rlkey=qesrx3mdrnfn9mb1zzig434ld&st=h4i75una&raw=1'),
    flows:{
      continue:{ ok:true, message:"OK : on continue en surveillant le TDB pour message/alerte associÃ©e." },
      call:{ toQuiz:false, message:"Appel non requis d'emblÃ©e â†’ Game Over." },
      repair:{ toQuiz:false, message:"Pas d'action mÃ©canique immÃ©diate â†’ Game Over." }
    }
  }
 ,{
    id:'maint_non_active', isProblem:false,
    img: RAW('https://www.dropbox.com/scl/fi/c2shaa8pslrvuwj1jgsvh/3.jpg?rlkey=3598tq8kb4nd9c3eog5o53496&st=yu3pht0z&raw=1'),
    flows:{
      continue:{ ok:true, message:"OK : rien Ã  faire, on continue en surveillant le TDB." },
      call:{ toQuiz:false, message:"Appel inutile pour ce tÃ©moin â†’ Game Over." },
      repair:{ toQuiz:false, message:"Aucune action conducteur requise â†’ Game Over." }
    }
  },
  {
    id:'alerte_maintenance', isProblem:false,
    img: RAW('https://www.dropbox.com/scl/fi/yzxn8ixlvx74uwvga008w/4.jpg?rlkey=y1vbkvsycyrl5jwkcgfs655um&st=u3g3m8zp&raw=1'),
    flows:{
      continue:{ ok:false, message:"Mauvais rÃ©flexe : il faut prÃ©venir lâ€™exploitation pour planifier." },
      call:{
        toQuiz:true,
        prompt:"Que dis-tu Ã  lâ€™exploitation ? (description du voyant)",
        choices:[
          { text:"Â« TÃ©moin alerte maintenance allumÃ© : merci de planifier la visite annuelle. Â»", good:true },
          { text:"Â« Vite, le camion va exploser, appelez les pompiers ! Â»", fun:true },
          { text:"Â« Voyant pression dâ€™huile rouge : arrÃªt immÃ©diat. Â»", wrong:true },
          { text:"Â« Petit rappel maintenance, on verra plus tard si on a le temps. Â»", near:true }
        ],
        onGood:{ message:"OK : message pertinent, RDV Ã  planifier." },
        onBad:{  message:"Formulation inadaptÃ©e â†’ Game Over." }
      },
      repair:{ toQuiz:false, message:"Pas de rÃ©paration conducteur ici â†’ Game Over." }
    }
  },
  {
    id:'maint_active_non_init', isProblem:false,
    img: RAW('https://www.dropbox.com/scl/fi/pgczvc8df5cjcr3b42odm/5.jpg?rlkey=pg6o71rv43uoutcmcmdvt5561&st=z5ywk40l&raw=1'),
    flows:{
      continue:{ ok:false, message:"Il faut prÃ©venir lâ€™exploitation pour organiser la rÃ©initialisation." },
      call:{
        toQuiz:true,
        prompt:"Que dis-tu Ã  lâ€™exploitation ? (description du voyant)",
        choices:[
          { text:"Â« TÃ©moin maintenance active non initialisÃ©e : prÃ©voir rÃ©initialisation en atelier. Â»", good:true },
          { text:"Â« Je rÃ©initialise tout en roulant, câ€™est plus simple. Â»", fun:true },
          { text:"Â« DÃ©faut ABS : distances dâ€™arrÃªt allongÃ©es. Â»", wrong:true },
          { text:"Â« TÃ©moin maintenance allumÃ©, je coupe/redÃ©marre et câ€™est rÃ©glÃ©. Â»", near:true }
        ],
        onGood:{ message:"OK : passage atelier pour rÃ©initialisation." },
        onBad:{  message:"Formulation inadaptÃ©e â†’ Game Over." }
      },
      repair:{ toQuiz:false, message:"Pas une action conducteur â†’ Game Over." }
    }
  },
  {
    id:'echeance_maintenance', isProblem:false,
    img: RAW('https://www.dropbox.com/scl/fi/5wel46t7i68tel0n6us54/6.jpg?rlkey=29fh2n5yhv2nmybgzzgv7p4m5&st=gmetae1y&raw=1'),
    flows:{
      continue:{ ok:false, message:"Mauvais rÃ©flexe : il faut prÃ©venir et programmer en urgence." },
      call:{
        toQuiz:true,
        prompt:"Que dis-tu Ã  lâ€™exploitation ? (description du voyant)",
        choices:[
          { text:"Â« Ã‰chÃ©ance maintenance atteinte/dÃ©passÃ©e : urgence Ã  prendre RDV pour la visite annuelle. Â»", good:true },
          { text:"Â« On change le moteur sur le parking du client, câ€™est plus rapide. Â»", fun:true },
          { text:"Â« TÃ©moin de prÃ©chauffage : jâ€™attends avant de dÃ©marrer. Â»", wrong:true },
          { text:"Â« Alerte maintenance Ã  prÃ©voir un jour quand on pourra. Â»", near:true }
        ],
        onGood:{ message:"OK : urgence RDV validÃ©e." },
        onBad:{  message:"Formulation inadaptÃ©e â†’ Game Over." }
      },
      repair:{ toQuiz:false, message:"Pas de rÃ©paration conducteur â†’ Game Over." }
    }
  },
  {
    id:'defaut_afficheur', isProblem:true,
    img: RAW('https://www.dropbox.com/scl/fi/purf363r0gkaql8ql7jfb/7.jpg?rlkey=puxptu1vwb3n3ubz7y4mxm6p1&st=l74l3l9h&raw=1'),
    flows:{
      continue:{ ok:false, message:"Mauvais rÃ©flexe : il faut signaler pour correction en garage." },
      call:{
        toQuiz:true,
        prompt:"Que dis-tu Ã  lâ€™exploitation ? (description du voyant)",
        choices:[
          { text:"Â« DÃ©faut afficheur/combinÃ© : merci de programmer un contrÃ´le en garage. Â»", good:true },
          { text:"Â« Je mets un post-it Ã  la place des jauges, câ€™est pareil. Â»", fun:true },
          { text:"Â« Surchauffe moteur, arrÃªt immÃ©diat en sÃ©curitÃ©. Â»", wrong:true },
          { text:"Â« Petit bug Ã©cran, je vais tapoter dessus et Ã§a repartira. Â»", near:true }
        ],
        onGood:{ message:"OK : demande de correction en garage transmise." },
        onBad:{  message:"Formulation inadaptÃ©e â†’ Game Over." }
      },
      repair:{ toQuiz:false, message:"Pas de rÃ©paration conducteur â†’ Game Over." }
    }
  }
,{
  id:'defaut_airbag', isProblem:true,
  img: 'https://www.dropbox.com/scl/fi/241bry64xzu8aiz4rvvor/8.jpg?rlkey=8izj5e2urtctqgxcwdl80bj2a&st=c0qiv6y2&raw=1',
  flows:{
    continue:{ ok:false, message:"Mauvais rÃ©flexe : systÃ¨me airbag potentiellement inopÃ©rant, Ã  signaler." },
    call:{
      toQuiz:true,
      prompt:"Que dis-tu Ã  l'exploitation ?",
      choices:[
        { text:"Â« DÃ©faut airbag affichÃ© : merci de prendre RDV pour rÃ©paration en garage. Â»", good:true },
        { text:"Â« Je dÃ©sactive tous les airbags, comme Ã§a plus de dÃ©faut. Â»", fun:true },
        { text:"Â« Voyant ceinture/portiÃ¨re : je vÃ©rifie que câ€™est fermÃ©. Â»", wrong:true },
        { text:"Â« Petit voyant airbag, on verra Ã  la prochaine rÃ©vision. Â»", near:true }
      ],
      onGood:{ message:"OK : demande de prise de RDV transmise." },
      onBad:{  message:"Formulation inadaptÃ©e â†’ Game Over." }
    },
    repair:{ toQuiz:false, message:"Pas de rÃ©paration conducteur sur un systÃ¨me airbag â†’ Game Over." }
  }
},
{
  id:'defaut_charge_batt', isProblem:true,
  img: 'https://www.dropbox.com/scl/fi/fht1p4onro8ogknp18f4b/9.jpg?rlkey=ap18p442xr3fdmklscy5h2gzc&st=num7bkgk&raw=1',
  flows:{
    continue:{ ok:false, message:"Risque de panne Ã  court terme : mauvaise dÃ©cision." },
    call:{ toQuiz:false, message:"Diagnostic simple possible par le conducteur dâ€™abord â†’ Game Over si appel." },
    repair:{
      toQuiz:true,
      prompt:"Que peux-tu tenter (rÃ©parable niveau chauffeur) ?",
      choices:[
        { text:"Resserrer les cosses de batterie et vÃ©rifier la courroie dâ€™alternateur.", good:true },
        { text:"DÃ©brancher la batterie en roulant pour â€˜rebooterâ€™.", fun:true },
        { text:"Remplacer lâ€™alternateur sur le bas-cÃ´tÃ©.", wrong:true },
        { text:"Couper tous les consommateurs et continuer comme Ã§a.", near:true }
      ],
      onGood:{ message:"Bien : action simple et sÃ»re rÃ©alisÃ©e." },
      onBad:{  message:"Action inadaptÃ©e/dangereuse â†’ Game Over." }
    }
  }
},
{
  id:'defaut_frein_parc', isProblem:true,
  img: 'https://www.dropbox.com/scl/fi/t5tr2ljihgc034s07kv26/13.jpg?rlkey=hnzwm1gnos3nqvi88vwslljj9&st=rcpwwwuz&raw=1',
  flows:{
    continue:{ ok:false, message:"Frein de parc mal desserrÃ© : corriger lâ€™action, ne pas continuer ainsi." },
    call:{ toQuiz:false, message:"Inutile dâ€™appeler pour ce cas â†’ Game Over." },
    repair:{
      toQuiz:true,
      prompt:"Que peux-tu faire (niveau chauffeur) ?",
      choices:[
        { text:"Desserrer correctement le frein de parc (mal desserrÃ©) et vÃ©rifier lâ€™extinction du voyant.", good:true },
        { text:"Rouler avec le frein serrÃ© pour le â€˜roderâ€™.", fun:true },
        { text:"DÃ©brancher le capteur de frein de parc.", wrong:true },
        { text:"Tirer plus fort sur la commande de frein de parc.", near:true }
      ],
      onGood:{ message:"OK : action corrective simple et sÃ»re." },
      onBad:{  message:"Action inadaptÃ©e â†’ Game Over." }
    }
  }
},
{
  id:'oubli_frein_parc_portes', isProblem:true,
  img: 'https://www.dropbox.com/scl/fi/ym6gzpeid32780ra6ltrk/14.jpg?rlkey=up6rgeb335b6od04f5728hl5u&st=fxi3exi8&raw=1',
  flows:{
    continue:{ ok:false, message:"Mauvais rÃ©flexe : risque de sÃ©curitÃ© Ã  lâ€™immobilisation." },
    call:{ toQuiz:false, message:"Pas un sujet dâ€™appel â†’ Game Over." },
    repair:{
      toQuiz:true,
      prompt:"Que fais-tu ?",
      choices:[
        { text:"Mettre le frein de parc avant/avec lâ€™ouverture des portes.", good:true },
        { text:"Laisser en prise sans frein de parc, Ã§a suffit.", fun:true },
        { text:"DÃ©sactiver lâ€™alarme dans le menu.", wrong:true },
        { text:"Mettre une cale sous une roue et continuer.", near:true }
      ],
      onGood:{ message:"OK : bonne pratique dâ€™immobilisation." },
      onBad:{  message:"Action inadaptÃ©e â†’ Game Over." }
    }
  }
},
{
  id:'abs_defaut_systeme', isProblem:true,
  img: 'https://www.dropbox.com/scl/fi/9l8wmoiuw48fn6qel2qzp/15.jpg?rlkey=qxy04bt3rj5wqypoezvwfc6jk&st=10sdgv5z&raw=1',
  flows:{
    continue:{ ok:false, message:"Alerte ABS : ne pas poursuivre." },
    call:{
      toQuiz:true,
      prompt:"Que dis-tu Ã  lâ€™exploitation ?",
      choices:[
        { text:"Â« Alerte ABS / dÃ©faut systÃ¨me : arrÃªt en sÃ©curitÃ© et demande de dÃ©pannage. Â»", good:true },
        { text:"Â« Je dÃ©branche un capteur ABS pour enlever le dÃ©faut. Â»", fun:true },
        { text:"Â« Rien de grave, je continue normalement. Â»", wrong:true },
        { text:"Â« Je roule trÃ¨s doucement jusquâ€™au dÃ©pÃ´t sans prÃ©venir. Â»", near:true }
      ],
      onGood:{ message:"OK : arrÃªt + demande dâ€™assistance." },
      onBad:{  message:"Formulation/choix inadaptÃ© â†’ Game Over." }
    },
    repair:{ toQuiz:false, message:"Pas dâ€™action conducteur sur le systÃ¨me ABS â†’ Game Over." }
  }
},
{
  id:'pression_air_min_ebs_defaut', isProblem:true,
  img: 'https://www.dropbox.com/scl/fi/1sspcbvd6spx3cjnvoitl/16.jpg?rlkey=ozhbpxxxv3rmcs7k9bo2gl5kb&st=62j3jv2y&raw=1',
  flows:{
    continue:{ ok:false, message:"Pression dâ€™air insuffisante / EBS dÃ©faut : sâ€™arrÃªter en sÃ©curitÃ©." },
    call:{ toQuiz:false, message:"Dâ€™abord sÃ©curiser/contrÃ´ler, appeler si le dÃ©faut persiste â†’ Game Over si appel direct." },
    repair:{
      toQuiz:true,
      prompt:"Que peux-tu tenter (niveau chauffeur) ?",
      choices:[
        { text:"Sâ€™arrÃªter en sÃ©curitÃ© et attendre la remontÃ©e de pression dâ€™air ; contrÃ´le visuel (fuites, compresseur/courroie).", good:true },
        { text:"Ajouter du liquide de frein.", fun:true },
        { text:"Purger toutes les cuves au hasard.", wrong:true },
        { text:"Continuer prudemment jusquâ€™Ã  destination.", near:true }
      ],
      onGood:{ message:"OK : sÃ©curitÃ© + contrÃ´le appropriÃ©s." },
      onBad:{  message:"Action inadaptÃ©e/dangereuse â†’ Game Over." }
    }
  }
},
{
  id:'esc_defaut_systeme', isProblem:true,
  img: 'https://www.dropbox.com/scl/fi/1yfb80e1bl8j558nvvmco/17.jpg?rlkey=m6v0p65khp2oli2olhneecb8n&st=c5lpjqv3&raw=1',
  flows:{
    continue:{ ok:false, message:"Mauvais rÃ©flexe : dÃ©faut ESC Ã  signaler." },
    call:{
      toQuiz:true,
      prompt:"Que dis-tu Ã  lâ€™exploitation ?",
      choices:[
        { text:"Â« DÃ©faut ESC : merci de faire vÃ©rifier le systÃ¨me par le constructeur. Â»", good:true },
        { text:"Â« Je vais â€˜drifterâ€™ pour tester si Ã§a marche. Â»", fun:true },
        { text:"Â« DÃ©faut pression dâ€™huile, arrÃªt immÃ©diat. Â»", wrong:true },
        { text:"Â« Petit voyant ESC, on verra Ã  la prochaine rÃ©vision. Â»", near:true }
      ],
      onGood:{ message:"OK : contrÃ´le constructeur Ã  planifier." },
      onBad:{  message:"Formulation inadaptÃ©e â†’ Game Over." }
    },
    repair:{ toQuiz:false, message:"Pas de rÃ©paration conducteur sur ESC â†’ Game Over." }
  }
},
{
  id:'asr_desactive', isProblem:true,
  img: 'https://www.dropbox.com/scl/fi/x3pjvp5lz9j70k86izq1l/19.jpg?rlkey=e3ih0zzf9qszg9lqpnnc85591&st=oaqf35lc&raw=1',
  flows:{
    continue:{ ok:false, message:"ASR dÃ©sactivÃ© : mauvaise dÃ©cision, Ã  signaler pour contrÃ´le." },
    call:{
      toQuiz:true,
      prompt:"Que dis-tu Ã  lâ€™exploitation ?",
      choices:[
        { text:"Â« ASR dÃ©sactivÃ© : merci de planifier un passage garage / contrÃ´le. Â»", good:true },
        { text:"Â« Je coupe aussi ABS et ESP pour que tout soit homogÃ¨ne. Â»", fun:true },
        { text:"Â« Voyant pression dâ€™huile rouge : arrÃªt moteur. Â»", wrong:true },
        { text:"Â« ASR parfois inactif, on verra plus tard. Â»", near:true }
      ],
      onGood:{ message:"OK : contrÃ´le en garage Ã  planifier." },
      onBad:{  message:"Formulation inadaptÃ©e â†’ Game Over." }
    },
    repair:{ toQuiz:false, message:"Pas dâ€™action conducteur fiable sur lâ€™ASR â†’ Game Over." }
  }
},
{
  id:'usure_plaquettes', isProblem:true,
  img: 'https://www.dropbox.com/scl/fi/j1m1ql38o7393yyatb74r/22.jpg?rlkey=i8a2fdmgvx7wnhylhix81e0gd&st=m1el1n5o&raw=1',
  flows:{
    continue:{ ok:false, message:"Usure plaquettes : il faut programmer lâ€™intervention." },
    call:{
      toQuiz:true,
      prompt:"Que dis-tu Ã  lâ€™exploitation ?",
      choices:[
        { text:"Â« Usure plaquettes frein : merci dâ€™organiser le remplacement en garage. Â»", good:true },
        { text:"Â« Je freine fort pour â€˜les nettoyerâ€™. Â»", fun:true },
        { text:"Â« Voyant lave-glace, je remets du liquide. Â»", wrong:true },
        { text:"Â« Alerte usure, on verra Ã  la prochaine rÃ©vision. Â»", near:true }
      ],
      onGood:{ message:"OK : remplacement Ã  planifier." },
      onBad:{  message:"Formulation inadaptÃ©e â†’ Game Over." }
    },
    repair:{ toQuiz:false, message:"Pas dâ€™intervention conducteur sur le remplacement de plaquettes â†’ Game Over." }
  }
},
{
  id:'temp_plaquettes', isProblem:true,
  img: 'https://www.dropbox.com/scl/fi/ayclszdj4mq2j2nvqoy8r/23.jpg?rlkey=xwe50ago8qs4jljw5pk7sxwh9&st=x2c9u6er&raw=1',
  flows:{
    continue:{ ok:false, message:"TempÃ©rature de plaquettes Ã©levÃ©e : adapter immÃ©diatement la conduite." },
    call:{ toQuiz:false, message:"Pas dâ€™appel dâ€™emblÃ©e : dâ€™abord corriger la conduite â†’ Game Over si appel." },
    repair:{
      toQuiz:true,
      prompt:"Que peux-tu faire (niveau chauffeur) ?",
      choices:[
        { text:"Tomber un ou deux rapports et utiliser le frein moteur / ralentisseur, conduite douce pour refroidir.", good:true },
        { text:"Arroser les freins Ã  lâ€™eau pour les refroidir vite.", fun:true },
        { text:"Couper le contact pour â€˜laisser reposerâ€™ en roulant.", wrong:true },
        { text:"Freiner trÃ¨s lÃ©gÃ¨rement mais longtemps pour stabiliser la vitesse.", near:true }
      ],
      onGood:{ message:"OK : bonne gestion thermique par la conduite." },
      onBad:{  message:"Action inadaptÃ©e/dangereuse â†’ Game Over." }
    }
  }
},
{
  id:'defaut_gestion_air', isProblem:true,
  img: 'https://www.dropbox.com/scl/fi/ul6xflprx0w58denlqg46/24.jpg?rlkey=thqoxgjirc556fvnc3wmey938&st=59xcm0wf&raw=1',
  flows:{
    continue:{ ok:false, message:"DÃ©faut gestion dâ€™air : risque de dommages/panne si on continue." },
    call:{
      toQuiz:true,
      prompt:"Que dis-tu Ã  lâ€™exploitation ?",
      choices:[
        { text:"Â« DÃ©faut gestion dâ€™air : contacter immÃ©diatement, passage garage Ã  organiser (risque de dommages). Â»", good:true },
        { text:"Â« Je dÃ©branche une durite dâ€™air pour voir. Â»", fun:true },
        { text:"Â« Simple rappel maintenance, pas urgent. Â»", wrong:true },
        { text:"Â« Petite alerte dâ€™air, on regarde Ã§a en fin de semaine. Â»", near:true }
      ],
      onGood:{ message:"OK : signalement immÃ©diat et organisation garage." },
      onBad:{  message:"Formulation inadaptÃ©e â†’ Game Over." }
    },
    repair:{ toQuiz:false, message:"Pas dâ€™action conducteur sÃ»re ici â†’ Game Over." }
  }
},
{
  id:'charge_batt_traction', isProblem:true,
  img: 'https://www.dropbox.com/scl/fi/tsdevznn083yf2p2wxbht/25.jpg?rlkey=9tc1uf099v13fej5qdl2th0al&st=g70kztde&raw=1',
  flows:{
    continue:{ ok:false, message:"Mauvais rÃ©flexe : tÃ©moin charge batteries de traction." },
    call:{
      toQuiz:true,
      prompt:"Que dis-tu Ã  lâ€™exploitation ?",
      choices:[
        { text:"Â« TÃ©moin de charge batteries de traction : merci de contacter rapidement un reprÃ©sentant de la marque / passage garage. Â»", good:true },
        { text:"Â« Je dÃ©branche tout le pack HV moi-mÃªme. Â»", fun:true },
        { text:"Â« Voyant lave-glace : jâ€™en remets. Â»", wrong:true },
        { text:"Â« Petite alerte traction, on verra plus tard. Â»", near:true }
      ],
      onGood:{ message:"OK : signalement + consultation rapide de la marque." },
      onBad:{  message:"Formulation inadaptÃ©e â†’ Game Over." }
    },
    repair:{ toQuiz:false, message:"Pas dâ€™intervention conducteur sÃ»re ici â†’ Game Over." }
  }
},
{
  id:'cordon_charge_branche', isProblem:true,
  img: 'https://www.dropbox.com/scl/fi/xk9l0hdxyhdgtp7m7u7tz/26.jpg?rlkey=r4wt09xujzerzbu7gjh0cc06g&st=gz7xd9et&raw=1',
  flows:{
    continue:{ ok:false, message:"Cordon de charge branchÃ© : ne pas continuer." },
    call:{ toQuiz:false, message:"Pas dâ€™appel dâ€™emblÃ©e : agir dâ€™abord correctement â†’ Game Over si appel." },
    repair:{
      toQuiz:true,
      prompt:"Que fais-tu ?",
      choices:[
        { text:"ArrÃªter immÃ©diatement la charge puis dÃ©brancher le cordon selon la procÃ©dure (vÃ©hicule/borne).", good:true },
        { text:"Arracher le cÃ¢ble pour gagner du temps.", fun:true },
        { text:"Tenter de rouler cordon branchÃ©.", wrong:true },
        { text:"Attendre la fin de charge complÃ¨te sans rien faire.", near:true }
      ],
      onGood:{ message:"OK : cordon dÃ©branchÃ© en sÃ©curitÃ©." },
      onBad:{  message:"Action inadaptÃ©e/dangereuse â†’ Game Over." }
    }
  }
},
{
  id:'defaut_moteur_elec', isProblem:true,
  img: 'https://www.dropbox.com/scl/fi/dzijdg0181rafv73joyoc/28.jpg?rlkey=wzi65btintb2c87395hwmlrj4&st=vpdr56d4&raw=1',
  flows:{
    continue:{ ok:false, message:"DÃ©faut moteur Ã©lectrique : ne pas poursuivre." },
    call:{
      toQuiz:true,
      prompt:"Que dis-tu Ã  lâ€™exploitation ?",
      choices:[
        { text:"Â« DÃ©faut moteur Ã©lectrique : arrÃªt immÃ©diat et remorquage Ã  organiser. Â»", good:true },
        { text:"Â« Je coupe/remets le contact en roulant et je repars. Â»", fun:true },
        { text:"Â« Simple rappel maintenance. Â»", wrong:true },
        { text:"Â« Je continue doucement, on avisera au dÃ©pÃ´t. Â»", near:true }
      ],
      onGood:{ message:"OK : arrÃªt + remorquage." },
      onBad:{  message:"Formulation inadaptÃ©e â†’ Game Over." }
    },
    repair:{ toQuiz:false, message:"Pas dâ€™intervention conducteur sur le groupe Ã©lectrique â†’ Game Over." }
  }
},
{
  id:'defaut_AEBS', isProblem:true,
  img: 'https://www.dropbox.com/scl/fi/rg6sc2jwp0ohir2kievv3/29.jpg?rlkey=kqez2t7i8lcu92a3ofq5yrz6v&st=i82c3855&raw=1',
  flows:{
    continue:{ ok:false, message:"DÃ©faut AEBS : sÃ©curiser dâ€™abord." },
    call:{ toQuiz:false, message:"Dâ€™abord vÃ©rifier/dÃ©gager capteurs, puis aviser â†’ Game Over si appel direct." },
    repair:{
      toQuiz:true,
      prompt:"Que peux-tu tenter (niveau chauffeur) ?",
      choices:[
        { text:"Sâ€™arrÃªter en sÃ©curitÃ© et sâ€™assurer que camÃ©ra/radar sont propres et non obstruÃ©s (pare-brise, calandre).", good:true },
        { text:"Masquer la camÃ©ra avec un ruban pour Ã©viter les faux positifs.", fun:true },
        { text:"DÃ©brancher le radar pour â€˜rÃ©initialiserâ€™.", wrong:true },
        { text:"Continuer la tournÃ©e et on regardera plus tard.", near:true }
      ],
      onGood:{ message:"OK : vÃ©rification capteurs effectuÃ©e." },
      onBad:{  message:"Action inadaptÃ©e â†’ Game Over." }
    }
  }
},
{
  id:'defaut_LDWS', isProblem:true,
  img: 'https://www.dropbox.com/scl/fi/gd8906iffkgfrnclk77x9/30.jpg?rlkey=1vvu5owcp961h4wq27wb5e1ar&st=lk7jf6mw&raw=1',
  flows:{
    continue:{ ok:false, message:"DÃ©faut LDWS : corriger la trajectoire, ne pas ignorer." },
    call:{ toQuiz:false, message:"Pas dâ€™appel dâ€™emblÃ©e â†’ corriger la conduite dâ€™abord." },
    repair:{
      toQuiz:true,
      prompt:"Que fais-tu immÃ©diatement ?",
      choices:[
        { text:"Recentrer le vÃ©hicule et le maintenir correctement au milieu de la voie.", good:true },
        { text:"DÃ©sactiver toutes les aides Ã  la conduite.", fun:true },
        { text:"Changer de voie sans clignotant pour â€˜testerâ€™.", wrong:true },
        { text:"Rouler au plus prÃ¨s de la ligne au sol.", near:true }
      ],
      onGood:{ message:"OK : conduite corrigÃ©e." },
      onBad:{  message:"Action inadaptÃ©e â†’ Game Over." }
    }
  }
},
{
  id:'defaut_antivol_elec', isProblem:true,
  img: 'https://www.dropbox.com/scl/fi/ua6pp4ex09gvt9omcz2yl/35.jpg?rlkey=piq1u6no8cekl03sztb5g55fz&st=i62b31kb&raw=1',
  flows:{
    continue:{ ok:false, message:"Antivol Ã©lectronique : vÃ©rifier dâ€™abord la clÃ©." },
    call:{ toQuiz:false, message:"Pas dâ€™appel dâ€™emblÃ©e : contrÃ´le clÃ©/pile dâ€™abord." },
    repair:{
      toQuiz:true,
      prompt:"Que peux-tu faire (niveau chauffeur) ?",
      choices:[
        { text:"VÃ©rifier/remplacer la pile de la clÃ© (ou essayer la clÃ© de secours).", good:true },
        { text:"Enlever lâ€™antivol en shuntant les fils.", fun:true },
        { text:"Forcer le neiman au tournevis.", wrong:true },
        { text:"Secouer la clÃ© et espÃ©rer.", near:true }
      ],
      onGood:{ message:"OK : vÃ©rification de la clÃ© effectuÃ©e." },
      onBad:{  message:"Action inadaptÃ©e â†’ Game Over." }
    }
  }
},
{
  id:'arret_moteur', isProblem:true,
  img:'https://www.dropbox.com/scl/fi/0szjkjecni6faocetrban/37.jpg?rlkey=h81gwi232ytyktqxpn7mjmsy8&st=ntr3u422&raw=1',
  flows:{
    continue:{ ok:false, message:"Alerte arrÃªt moteur : immobiliser le vÃ©hicule dÃ¨s que possible." },
    call:{
      toQuiz:true,
      prompt:"Que dis-tu Ã  lâ€™exploitation ?",
      choices:[
        { text:"Â« Alerte arrÃªt moteur : immobilisation en sÃ©curitÃ©, assistance/dÃ©pannage Ã  organiser. Â»", good:true },
        { text:"Â« Je redÃ©marre plus fort, Ã§a va repartir. Â»", fun:true },
        { text:"Â« Voyant lave-glace, je remets du liquide. Â»", wrong:true },
        { text:"Â« Petit voyant moteur, je continue doucement jusquâ€™au dÃ©pÃ´t. Â»", near:true }
      ],
      onGood:{ message:"OK : immobilisation + demande dâ€™assistance." },
      onBad:{  message:"Formulation inadaptÃ©e â†’ Game Over." }
    },
    repair:{ toQuiz:false, message:"Pas dâ€™action conducteur ici â†’ Game Over." }
  }
},
{
  id:'alerte_suspension_elec', isProblem:true,
  img:'https://www.dropbox.com/scl/fi/yb958728dj4ry49o8fbis/40.jpg?rlkey=52e9ftljfb8dkdzdc9gbrt2qx&st=79osk7q7&raw=1',
  flows:{
    continue:{ ok:false, message:"Alerte suspension pneumatique : ne pas ignorer." },
    call:{
      toQuiz:true,
      prompt:"Que dis-tu Ã  lâ€™exploitation ?",
      choices:[
        { text:"Â« Alerte suspension pneumatique Ã©lectronique : passage garage proche pour rÃ©parer un coussin dâ€™air. Â»", good:true },
        { text:"Â« Je gonfle le coussin Ã  la pompe Ã  vÃ©lo. Â»", fun:true },
        { text:"Â« DÃ©faut ABS, distances dâ€™arrÃªt allongÃ©es. Â»", wrong:true },
        { text:"Â« Je continue doucement et on verra au dÃ©pÃ´t. Â»", near:true }
      ],
      onGood:{ message:"OK : garage Ã  organiser rapidement." },
      onBad:{  message:"Formulation inadaptÃ©e â†’ Game Over." }
    },
    repair:{ toQuiz:false, message:"Pas dâ€™intervention conducteur fiable â†’ Game Over." }
  }
},
{
  id:'ajuster_hauteur_route', isProblem:false,
  img:'https://www.dropbox.com/scl/fi/gwn60uqcuxddcyr6oouhi/41.jpg?rlkey=m1ukqfhlqmyuj09kx7318zlc0&st=fg9uuuoa&raw=1',
  flows:{
    continue:{ ok:false, message:"Hauteur non en position route : corriger dâ€™abord." },
    call:{ toQuiz:false, message:"Pas dâ€™appel : action conducteur simple requise â†’ Game Over si appel." },
    repair:{
      toQuiz:true,
      prompt:"Que fais-tu ?",
      choices:[
        { text:"Remettre la suspension en position route via la tÃ©lÃ©commande.", good:true },
        { text:"Baisser au maximum pour â€˜un meilleur lookâ€™.", fun:true },
        { text:"Changer un coussin dâ€™air sur place.", wrong:true },
        { text:"Couper le contact et attendre que Ã§a se rÃ¨gle seul.", near:true }
      ],
      onGood:{ message:"OK : position route rÃ©tablie." },
      onBad:{  message:"Action inadaptÃ©e â†’ Game Over." }
    }
  }
},
{
  id:'defaut_eclairage', isProblem:true,
  img:'https://www.dropbox.com/scl/fi/zllm4u3dg1hmf3hffi1ym/43.jpg?rlkey=7a4imegtrwk43tij80mopzaqd&st=lso9j9vp&raw=1',
  flows:{
    continue:{ ok:false, message:"DÃ©faut dâ€™Ã©clairage : Ã  corriger avant de continuer." },
    call:{ toQuiz:false, message:"Pas dâ€™appel dâ€™emblÃ©e si ampoule accessible â†’ Game Over si appel." },
    repair:{
      toQuiz:true,
      prompt:"Que fais-tu (niveau chauffeur) ?",
      choices:[
        { text:"ContrÃ´le des feux et remplacement de lâ€™ampoule dÃ©fectueuse (ou passage garage si impossible).", good:true },
        { text:"Retirer un fusible au hasard pour â€˜rÃ©initialiserâ€™.", fun:true },
        { text:"Rouler en pleins phares partout pour compenser.", wrong:true },
        { text:"Mettre les warnings en permanence.", near:true }
      ],
      onGood:{ message:"OK : Ã©clairage rÃ©tabli / pris en charge." },
      onBad:{  message:"Action inadaptÃ©e â†’ Game Over." }
    }
  }
},
{
  id:'blocage_differentiel_on', isProblem:false,
  img:'https://www.dropbox.com/scl/fi/0aiqpk8jsjzynljlc83xk/44.jpg?rlkey=anoe62oqnz8aeyhloyoaj14hb&st=nksipk01&raw=1',
  flows:{
    continue:{ ok:false, message:"Blocage diffÃ©rentiel activÃ© : ne pas rester en usage route." },
    call:{ toQuiz:false, message:"Pas un sujet dâ€™appel : action conducteur attendue â†’ Game Over si appel." },
    repair:{
      toQuiz:true,
      prompt:"Que fais-tu ?",
      choices:[
        { text:"DÃ©sengager le blocage dÃ¨s que le vÃ©hicule est sorti de la boue/zone Ã  faible adhÃ©rence.", good:true },
        { text:"Le laisser activÃ© en permanence â€˜au cas oÃ¹â€™.", fun:true },
        { text:"DÃ©brancher le faisceau du diffÃ©rentiel.", wrong:true },
        { text:"Rouler trÃ¨s doucement blocage enclenchÃ© jusquâ€™au dÃ©pÃ´t.", near:true }
      ],
      onGood:{ message:"OK : blocage retirÃ© au bon moment." },
      onBad:{  message:"Action inadaptÃ©e â†’ Game Over." }
    }
  }
},
{
  id:'temp_huile_boite', isProblem:true,
  img:'https://www.dropbox.com/scl/fi/69uhi3420czy9xccvqtry/50.jpg?rlkey=be2en4yhpwvli02yhj0f6mfr5&st=g7wqea7e&raw=1',
  flows:{
    continue:{ ok:false, message:"TempÃ©rature dâ€™huile de boÃ®te Ã©levÃ©e : ne pas poursuivre." },
    call:{
      toQuiz:true,
      prompt:"Que dis-tu Ã  lâ€™exploitation ?",
      choices:[
        { text:"Â« Alerte tempÃ©rature huile de boÃ®te : prÃ©venir exploitation et amener le vÃ©hicule au garage pour vidange/remplacement dâ€™huile. Â»", good:true },
        { text:"Â« Jâ€™arrose la boÃ®te Ã  lâ€™eau froide pour refroidir. Â»", fun:true },
        { text:"Â« Voyant batterie, alternateur HS. Â»", wrong:true },
        { text:"Â« Je continue doucement et on verra plus tard. Â»", near:true }
      ],
      onGood:{ message:"OK : passage garage Ã  organiser rapidement." },
      onBad:{  message:"Formulation inadaptÃ©e â†’ Game Over." }
    },
    repair:{ toQuiz:false, message:"Pas dâ€™intervention conducteur sÃ»re ici â†’ Game Over." }
  }
}
];

// Liste exercice (ordre imposÃ©)
let EXO_ORDER = [
  'prealert_maint',
  'info_defauts_presents',
  'maint_non_active',
  'alerte_maintenance',
  'maint_active_non_init',
  'echeance_maintenance',
  'defaut_afficheur',
  'defaut_airbag',
  'defaut_charge_batt',
  'defaut_frein_parc',
  'oubli_frein_parc_portes',
  'abs_defaut_systeme',
  'pression_air_min_ebs_defaut',
  'esc_defaut_systeme',
  'asr_desactive',
  'usure_plaquettes',
  'temp_plaquettes',
  'defaut_gestion_air',
  'charge_batt_traction',
  'cordon_charge_branche',
  'defaut_moteur_elec',
  'defaut_AEBS',
  'defaut_LDWS',
  'defaut_antivol_elec',
  'arret_moteur',
  'alerte_suspension_elec',
  'ajuster_hauteur_route',
  'defaut_eclairage',
  'blocage_differentiel_on',
  'temp_huile_boite'
];

// ---------- Ã‰tat ----------
let mode='exercice';
let qnum=1;
let current=null;
let stage='initial';

const $pict=document.getElementById('pictogram');
const $mech=document.getElementById('vMechanics');
const $stage=document.getElementById('stage');
const $opts=document.getElementById('opts');
const $qnum=document.getElementById('qnum');
const $stepLabel=document.getElementById('stepLabel');
const $modeLabel=document.getElementById('modeLabel');
const $sysMsg=document.getElementById('sysMsg');

const $seg=document.getElementById('modeSeg');
$seg.addEventListener('click',(e)=>{
  const btn=e.target.closest('button'); if(!btn) return;
  [...$seg.querySelectorAll('button')].forEach(b=>b.classList.toggle('active',b===btn));
  mode=btn.dataset.mode; $modeLabel.textContent=mode.charAt(0).toUpperCase()+mode.slice(1);
  start();
});

function pickNext(){
  if(mode==='examen'){
    const pool=BANK.filter(x=>x.isProblem);
    current=pool[Math.floor(Math.random()*pool.length)]||BANK[0];
  }else{ // exercice
    if(qnum-1<EXO_ORDER.length){
      const nextId=EXO_ORDER[qnum-1];
      current=BANK.find(x=>x.id===nextId)||null;
    }else{
      current=null;
    }
  }
}

function start(){
  qnum=1; stage='initial';
  pickNext();
  draw();
}

function draw(){
  if(!current){
    $stage.textContent='Fin de la sÃ©rie en mode Exercice.';
    $opts.innerHTML='';
    return;
  }
  $qnum.textContent=qnum;
  $pict.src=current.img; $mech.textContent=current.mechanics||'';

  $opts.innerHTML='';
  if(stage==='initial'){
    $stepLabel.textContent='Choix initial';
    $stage.textContent='Que faisâ€‘tu ?';
    const initial=[
      {text:'1) Ne rien faire et continuer la route', action:()=>handleInitial('continue')},
      {text:'2) Appeler l\'exploitation', action:()=>handleInitial('call')},
      {text:'3) Tenter une rÃ©paration rapide', action:()=>handleInitial('repair')},
    ];
    initial.forEach(i=>addBtn(i.text,i.action));
  }
  else if(stage==='callQuiz'){
    $stepLabel.textContent='Appel exploitation';
    $stage.textContent=current.flows.call.prompt || 'â€”';
    renderQuiz(current.flows.call);
  }
  else if(stage==='repairQuiz'){
    $stepLabel.textContent='RÃ©paration rapide';
    $stage.textContent=current.flows.repair.prompt || 'â€”';
    renderQuiz(current.flows.repair);
  }
}

function addBtn(text, onClick){
  const b=document.createElement('button'); b.className='opt'; b.textContent=text; b.onclick=()=>{ onClick(); };
  $opts.appendChild(b);
}

function handleInitial(kind){
  if(kind==='continue'){
    const act=current.flows.continue;
    $sysMsg.textContent=act.message||'';
    if(act.ok){ qnum++; pickNext(); stage='initial'; draw(); }
    else{ gameOver(); }
  }
  if(kind==='call'){
    const act=current.flows.call; if(!act.toQuiz){ gameOver(act.message||'Appel inutile â†’ Game Over.'); return; }
    stage='callQuiz'; draw();
  }
  if(kind==='repair'){
    const act=current.flows.repair; if(!act.toQuiz){ gameOver(act.message||'Pas rÃ©parable par conducteur â†’ Game Over.'); return; }
    stage='repairQuiz'; draw();
  }
}

function renderQuiz(block){
  if(!block || !block.choices){ $opts.innerHTML=''; addBtn('â†º Recommencer', ()=>start()); return; }
  const choices = shuffle(block.choices.slice());
  $opts.innerHTML = '';
  choices.forEach(ch=>{
    addBtn('â€¢ ' + ch.text, ()=>{
      if(ch.good){
        $sysMsg.textContent = (block.onGood && block.onGood.message) || 'OK';
        // question suivante
        qnum++; pickNext(); stage='initial'; draw();
      }else{
        $sysMsg.textContent = (block.onBad && block.onBad.message) || 'RÃ©ponse incorrecte.';
        gameOver();
      }
    });
  });
}

function gameOver(msg){
  stage='end';
  $stepLabel.textContent='Fin';
  $stage.textContent='Game Over';
  if(msg) $sysMsg.textContent=msg;
  $opts.innerHTML='';
  addBtn('â†º Recommencer', ()=>start());
}

// ---------- ContrÃ´les ----------
const $prev=document.getElementById('prev');
const $next=document.getElementById('next');
const $restart=document.getElementById('restart');
$prev.onclick=()=>history.back?.();
$next.onclick=()=>{ qnum++; pickNext(); stage='initial'; draw(); };
$restart.onclick=()=>start();

// ---------- BibliothÃ¨que ----------
const $modal=document.getElementById('libModal');
const $openLib=document.getElementById('openLib');
const $closeLib=document.getElementById('closeLib');
const openLib=()=>{ $modal.classList.add('open'); };
const closeLib=()=>{ $modal.classList.remove('open') };
$openLib.onclick=openLib; $closeLib.onclick=closeLib; $modal.onclick=(e)=>{ if(e.target===$modal) closeLib() };

// ---------- Boot ----------
start();
</script>
</body>
</html>
